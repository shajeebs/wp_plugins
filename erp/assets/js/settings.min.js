jQuery(function(r){r(".colorpick").wpColorPicker(),r(".tips, .help_tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}),{init:function(){r("a.erp-image-upload").on("click",this.imageUpload),r("a.erp-remove-image").on("click",this.removeBanner)},imageUpload:function(e){e.preventDefault();var t,a=r(this);t||(t=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1})).on("select",function(){var e=t.state().get("selection").first().toJSON(),i=a.closest("td");i.find("input.erp-file-field").val(e.id),void 0!==e.sizes.thumbnail?i.find("img.erp-option-image").attr("src",e.sizes.thumbnail.url):i.find("img.erp-option-image").attr("src",e.url),r(".image-wrap",i).removeClass("erp-hide"),r(".button-area",i).addClass("erp-hide")}),t.open()},removeBanner:function(e){e.preventDefault();var i=r(this).closest(".image-wrap"),t=i.siblings(".button-area");i.find("input.erp-file-field").val("0"),i.addClass("erp-hide"),t.removeClass("erp-hide")}}.init()});