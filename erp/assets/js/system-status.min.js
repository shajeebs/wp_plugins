jQuery(function(p){var e={init:function(){p(document.body).on("click","a.help_tip, a.erp-help-tip",this.preventTipTipClick).on("click","a.debug-report",this.generateReport).on("click","#copy-for-support",this.copyReport).on("aftercopy","#copy-for-support",this.copySuccess).on("aftercopyfailure","#copy-for-support",this.copyFail)},preventTipTipClick:function(){return!1},generateReport:function(){var n="";p(".erp_status_table thead, .erp_status_table tbody").each(function(){if(p(this).is("thead")){var t=p(this).find("th:eq(0)").data("export-label")||p(this).text();n=n+"\n### "+p.trim(t)+" ###\n\n"}else p("tr",p(this)).each(function(){var t=p(this).find("td:eq(0)").data("export-label")||p(this).find("td:eq(0)").text(),e=p.trim(t).replace(/(<([^>]+)>)/gi,""),i=p(this).find("td:eq(2)").clone();i.find(".private").remove(),i.find(".dashicons-yes").replaceWith("&#10004;"),i.find(".dashicons-no-alt, .dashicons-warning").replaceWith("&#10060;");var r=p.trim(i.text()),o=r.split(", ");if(1<o.length){var a="";p.each(o,function(t,e){a=a+e+"\n"}),r=a}n=n+""+e+": "+r+"\n"})});try{return p("#debug-report").slideDown(),p("#debug-report").find("textarea").val("`"+n+"`").focus().select(),p(this).fadeOut(),!1}catch(t){}return!1},copyReport:function(t){e.erpSetClipboard(p("#debug-report").find("textarea").val(),p(this)),t.preventDefault()},copySuccess:function(){p("#copy-for-support").tipTip({attribute:"data-tip",activation:"focus",fadeIn:50,fadeOut:50,delay:0}).focus()},copyFail:function(){p(".copy-error").removeClass("hidden"),p("#debug-report").find("textarea").focus().select()},erpSetClipboard:function(t,e){void 0===e&&(e=jQuery(document));var i=jQuery('<textarea style="opacity:0">');jQuery("body").append(i),i.val(t).select(),e.trigger("beforecopy");try{document.execCommand("copy"),e.trigger("aftercopy")}catch(t){e.trigger("aftercopyfailure")}i.remove()}};e.init(),p("#log-viewer-select").on("click","h2 a.page-title-action",function(t){t.stopImmediatePropagation()});p(".erp-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})});